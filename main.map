{"version":3,"file":"/Users/gsoed/proj/protoboard/main.js","sources":["@traceur/generated/TemplateParser/3","/Users/gsoed/proj/protoboard/src/as.js","@traceur/generated/TemplateParser/0","@traceur/generated/TemplateParser/2","@traceur/generated/TemplateParser/1","/Users/gsoed/proj/protoboard/src/service/dragdrop.js","/Users/gsoed/proj/protoboard/src/utils.js","@traceur/generated/TemplateParser/4","/Users/gsoed/proj/protoboard/src/component/component.js","@traceur/generated/TemplateParser/6","@traceur/generated/TemplateParser/7","@traceur/generated/TemplateParser/5","/Users/gsoed/proj/protoboard/src/component/card.js","@traceur/generated/TemplateParser/8","@traceur/generated/TemplateParser/9","/Users/gsoed/proj/protoboard/src/component/token.js","/Users/gsoed/proj/protoboard/src/region/Region.js","/Users/gsoed/proj/protoboard/src/region/rect.js","/Users/gsoed/proj/protoboard/src/service/modules.js","/Users/gsoed/proj/protoboard/src/surface/rectgrid.js","@traceur/generated/TemplateParser/10","/Users/gsoed/proj/protoboard/src/modules.js"],"names":[],"mappings":"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","sourceRoot":"/Users/gsoed/proj/protoboard/","sourcesContent":["var __moduleName = $__placeholder__0;","let As = {\n  int(input, radix = 10) {\n    let output = Number.parseInt(input, radix);\n    if (Number.isNaN(output)) {\n      throw `${input} is not an integer with radix ${radix}`;\n    }\n\n    return output;\n  },\n\n  boolean(input) {\n    return input.toLowerCase() === 'true';\n  }\n};\n\nexport default As = As;\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.As = As;\n","var $__default = $__placeholder__0","return $__placeholder__0","get $__placeholder__0() { return $__placeholder__1; }","/**\n * Service that keeps track of drag and drop.\n *\n * @type {Object}\n */\nlet DragDrop = {\n  EventType: {\n    DRAGGED: 'dragged'\n  },\n\n  lastDraggedEl: null,\n\n  /**\n   * Start dragging the given element.\n   * @param {!Element} draggedEl The element that is dragged.\n   */\n  dragStart(draggedEl) {\n    this.lastDraggedEl = draggedEl;\n  }\n};\n\n\nexport default DragDrop = DragDrop;\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.DragDrop = DragDrop;\n","var Utils = {\n  /**\n   * Extracts the given template from the given document.\n   * @param  {string} templateQuery The query used to obtain the template.\n   * @param  {!Document} doc The document object to obtain the template from.\n   * @return {!Node} The node in the template.\n   */\n  extractTemplate(templateQuery, doc) {\n    return this.activateTemplate(doc.querySelector(templateQuery), doc);\n  },\n\n  activateTemplate(template, doc) {\n    return doc.importNode(template.content, true);\n  },\n\n  /**\n   * Returns the referenced function, or noop function if the referenced function does not exist.\n   * @param  {!Object} scope Object containing the referenced function.\n   * @param  {string} name Name of the function to return.\n   * @return {!Function} The referenced function, or noop function if the referenced function does\n   *     not exist.\n   */\n  nonNullFn(scope, name) {\n    return scope[name] || (() => {});\n  },\n\n  /**\n   * Observes the given property on the given object.\n   * @param {!Object} object Object to observe changes to.\n   * @param {string|null} property The property name to listen to, or null to listen to all \n   *     properties.\n   * @param {Function} handler Handler called when a property has changed. The handler accepts 3\n   *     arguments: property name, change type, and the old value of the property.\n   */\n  observe(object, property, handler) {\n    Object.observe(object, function(changes) {\n      changes.forEach(change => {\n        if (!property || change.name === property) {\n          handler(change.name, change.type, change.oldValue);\n        }\n      });\n    });\n  },\n\n  getContentElementRoot(el) {\n    return el.querySelectorAll(':not(style):not(script)');\n  }\n};\n\nexport default Utils = Utils;\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.Utils = Utils;\n","$__placeholder__0[$traceurRuntime.toProperty($__placeholder__1)]","import Utils from 'src/utils';\nimport DragDropService from 'src/service/dragdrop';\n\nconst ATTR_DRAGGABLE = 'draggable';\n\nfunction setupDraggable() {\n  let draggables = this.querySelectorAll('*[draggable=\"true\"]');\n\n  // Propagate the draggable attribute to the root element.\n  for (let i = 0; i < draggables.length; i++) {\n    draggables.item(i).addEventListener('dragstart', handleDragStart.bind(this));\n  }\n}\n\nfunction handleDragStart(event) {\n  let dataTransfer = event.dataTransfer;\n  dataTransfer.effectAllowed = 'move';\n\n  DragDropService.dragStart(this);\n}\n\n/**\n * @class  Base class for all components. Classes extending this should call #config at the end of\n *     createdCallback.\n *\n * To make a component draggable, user must have an HTML element with a draggable attribute set to\n * true as a child of this element.\n */\nexport default class Component extends HTMLElement {\n  constructor() {}\n\n  createdCallback() {}\n\n  /**\n   * Configures the component.\n   * @param {Object} config Configuration used to configure the behavior of this component.\n   * @param {boolean} config.draggable True iff the component should be draggable.\n   */\n  config(config) {\n    if (config.draggable) {\n      setupDraggable.bind(this)();\n    }\n  }\n}\n\nif (window.TEST_MODE) {\n  if (!window.pb) {\n    window.pb = {};\n  }\n\n  window.pb.Component = Component;\n}\n","var $__placeholder__0 = $__placeholder__1","($traceurRuntime.createClass)($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                       $__placeholder__3)","var $__default = $__placeholder__0","import As from 'src/as';\nimport Component from 'src/component/component';\nimport Utils from 'src/utils';\n\nlet doc = null;\nlet template = null;\n\nconst EL_NAME = 'pb-c-card';\nconst ATTR_SHOW_FRONT = 'showFront';\n\nfunction handleClick() {\n  let oldValue = As.boolean($(this).attr(ATTR_SHOW_FRONT) || 'false');\n  $(this).attr(ATTR_SHOW_FRONT, !oldValue);\n}\n\n/**\n * A representation of a card.\n */\nexport default class Card extends Component {\n  constructor() {\n    super();\n  }\n\n  createdCallback() {\n    super.createdCallback();\n    let shadowRoot = this.createShadowRoot();\n    shadowRoot.appendChild(Utils.activateTemplate(template, doc));\n\n    this.addEventListener('click', handleClick.bind(this));\n    this.config({ draggable: true });\n  }\n\n  static register(currentDoc, cardTemplate) {\n    if (doc || template) {\n      // Registration has already happened.\n      return;\n    }\n\n    doc = currentDoc;\n    template = cardTemplate;\n    document.registerElement(EL_NAME,  {prototype: Card.prototype});\n  }\n}\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.Card = Card;\n","$traceurRuntime.superCall($__placeholder__0, $__placeholder__1, $__placeholder__2,\n                                   $__placeholder__3)","var $__placeholder__0 = $__placeholder__1","import Component from 'src/component/component';\nimport Utils from 'src/utils';\n\nlet doc = null;\nlet template = null;\n\nconst EL_NAME = 'pb-c-token';\n\n/**\n * A simple movable component with only one state. Examples of token:\n *   - Chess piece\n *   - Cubes\n *   - Damage marker\n */\nexport default class Token extends Component {\n  constructor() {\n    super();\n  }\n\n  createdCallback() {\n    super.createdCallback();\n    let shadowRoot = this.createShadowRoot();\n    shadowRoot.appendChild(Utils.activateTemplate(template, doc));\n\n    this.config({ draggable: true });\n  }\n\n  static register(currentDoc, tokenTemplate) {\n    if (doc || template) {\n      // Registration has already happened.\n      return;\n    }\n\n    doc = currentDoc;\n    template = tokenTemplate;\n    document.registerElement(EL_NAME,  {prototype: Token.prototype});\n  }\n}\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.Token = Token;\n","import DragDrop from 'src/service/dragdrop';\n\nconst CLASS_OVER = 'over';\n\nfunction handleDragOver(event) {\n  // TODO: Only enable if the component is compatible.\n  event.preventDefault();\n  event.dropEffect = 'move';\n}\n\nfunction handleDragEnter(event) {\n  event.preventDefault();\n  this.classList.add(CLASS_OVER);\n}\n\nfunction handleDragLeave(event) {\n  this.classList.remove(CLASS_OVER);\n}\n\nfunction handleDrop(event) {\n  this.classList.remove(CLASS_OVER);\n  this.appendChild(DragDrop.lastDraggedEl);\n}\n\n/**\n * @class Base class of all regions. These are drop targets.\n */\nexport default class Region extends HTMLElement {\n\n  constructor() {}\n\n  createdCallback() {}\n\n  attachedCallback() {\n    this.addEventListener('dragover', handleDragOver);\n    this.addEventListener('dragenter', handleDragEnter);\n    this.addEventListener('dragleave', handleDragLeave);\n    this.addEventListener('drop', handleDrop);\n  }\n}\n\nif (window.TEST_MODE) {\n  if (!window.pb) {\n    window.pb = {};\n  }\n\n  window.pb.Region = Region;\n}","import Region from 'src/region/Region';\nimport Utils from 'src/utils';\n\nlet doc = null;\nlet template = null;\n\nconst EL_NAME = 'pb-r-rect';\n\nclass Rect extends Region {\n  constructor() {\n    super();\n  }\n\n  createdCallback() {\n    super.createdCallback();\n    let shadowRoot = this.createShadowRoot();\n    shadowRoot.appendChild(Utils.activateTemplate(template, doc));\n  }\n\n  static register(currentDoc, rectTemplate) {\n    if (doc || template) {\n      // Registration has already happened.\n      return;\n    }\n\n    doc = currentDoc;\n    template = rectTemplate;\n    document.registerElement(EL_NAME,  {prototype: Rect.prototype});\n  }\n}\n\nexport default Rect = Rect;\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.Rect = Rect;\n","import DragDrop from 'src/service/dragdrop';\n\n","import As from 'src/as';\nimport Utils from 'src/utils';\n\nlet doc = null;\nlet templates = null;\n\nconst ATTR_ROW = 'row';\nconst ATTR_COL = 'col';\nconst EL_NAME = 'pb-s-rectgrid';\n\n/**\n * @class A surface that lays out its components in a grid. To use this, add attributes \"row\" and\n *     \"col\" to the element \"pb-s-rectgrid\". These are the number of rows and columns in the grid.\n *\n *     Add the contents of the grid as children of this element. Use \"row\" and \"col\" attributes on\n *     them to indicate their positions in the grid.\n */\nexport default class RectGrid extends HTMLElement {\n  createdCallback() {\n    // Create the shadow DOM.\n    let shadowRoot = this.createShadowRoot();\n    shadowRoot.appendChild(Utils.activateTemplate(templates.main, doc));\n\n    // Initializes the data.\n    let rowCount = As.int($(this).attr(ATTR_ROW));\n    let colCount = As.int($(this).attr(ATTR_COL));\n    let rootEl = shadowRoot.querySelector('#content');\n\n    // Add the rows.\n    for (let row = 0; row < rowCount; row++) {\n      rootEl.appendChild(Utils.activateTemplate(templates.row, doc));\n    }\n\n    $(shadowRoot.querySelectorAll('#content > div'))\n        .each((row, rowEl) => {\n          for (let col = 0; col < colCount; col++) {\n            let colEl = Utils.activateTemplate(templates.col, doc);\n            $(colEl.querySelector('content'))\n                .attr('select', `[${ATTR_ROW}=\"${row}\"][${ATTR_COL}=\"${col}\"]`)\n                .attr('row', row)\n                .attr('col', col);\n            rowEl.appendChild(colEl);\n          }\n        });\n  }\n\n  /**\n   * Returns the element at the given row and column, or null if not found.\n   * @param  {number} row The row index of the element to be returned.\n   * @param  {number} col The col index of the element to be returned.\n   * @return {HTMLElement|null} The HTML element at the given row and col, or null if not\n   *     found.\n   */\n  get(row, col) {\n    let contentEl = this.shadowRoot\n        .querySelector(`content[${ATTR_ROW}=\"${row}\"][${ATTR_COL}=\"${col}\"]`);\n    return contentEl ? contentEl.getDistributedNodes()[0] : null;\n  }\n\n  static register(currentDoc, gridTemplates) {\n    if (doc || templates) {\n      // Register has already happened.\n      return;\n    }\n\n    doc = currentDoc;\n    templates = gridTemplates;\n\n    document.registerElement(EL_NAME, {prototype: RectGrid.prototype});\n  }\n}\n\nif (!window.pb) {\n  window.pb = {};\n}\n\nwindow.pb.RectGrid = RectGrid;\n","$traceurRuntime.defaultSuperCall(this,\n                $__placeholder__0.prototype, arguments)","/**\n * References all the modules.\n */\n\nimport Util from 'src/utils';\n\nimport {} from 'src/component/modules';\nimport {} from 'src/region/modules';\nimport {} from 'src/service/modules';\nimport {} from 'src/surface/modules';\n"]}