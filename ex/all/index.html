<!DOCTYPE html>
<html>
  <base href="../..">
  <head>
    <link rel="import" href="out/bootstrap.html">
    <link rel="import" href="out/component/card.html">
    <link rel="import" href="out/component/dice.html">
    <link rel="import" href="out/component/token.html">
    <link rel="import" href="out/region/bag.html">
    <link rel="import" href="out/region/deck.html">
    <link rel="import" href="out/region/hand.html">
    <link rel="import" href="out/region/rect.html">
    <link rel="import" href="out/service/template.html">
    <link rel="import" href="out/surface/hexgrid.html">
    <link rel="import" href="out/surface/rectgrid.html">
    <link rel="import" href="out/surface/trianglegrid.html">
    <link rel="import" href="out/third_party/di.html">
    <link rel="import" href="out/ui/generate.html">
    <link rel="import" href="out/ui/preview.html">
    <link rel="import" href="out/ui/previewer.html">
    <link rel="import" href="out/ui/shape.html">

    <link rel="stylesheet" type="text/css" href="out/ex/all/grid.css">
    <link rel="stylesheet" type="text/css" href="out/ex/all/previewer.css">
    <link rel="stylesheet" type="text/css" href="out/ex/all/regions.css">
    <link rel="stylesheet" type="text/css" href="out/ex/all/shape.css">
    <link rel="stylesheet" type="text/css" href="out/ex/all/table.css">
    <link rel="stylesheet" type="text/css" href="out/ex/all/token.css">

    <link rel="import" href="out/third_party/keypress.html">

    <style>
      .front {
        line-height: 100px;
        text-align: center;
      }
    </style>
  </head>
  <body>
    <table>
      <colgroup>
        <col class="name">
        <col>
        <col>
        <col class="example">
      </colgroup>

      <thead>
        <tr>
          <td colspan="4">
            <h2>Components</h2>
            Components are the interactable objects in a game.
          </td>
        </tr>
      </thead>
      <tbody>

        <tr>
          <td>Cards</td>
          <td>
            <pb-c-card>
              <div class="pb-front">
                <p>Default - front</p>
                <p>Previewer</p>
                <pb-u-preview>
                  You can add more details over here. Look at the Previewer for more details.
                </pb-u-preview>
              </div>
              <div class="pb-back">
                Default - back
              </div>
            </pb-c-card>
            <pb-c-card tap-on="pb-key-t"
                       flip-on="pb-key-f"
                       flip-active="true">
              <div class="pb-front">
                <p>Hover + f to flip</p>
                <p>Defaults to show front</p>
              </div>
              <div class="pb-back">
                Hover + t to tap / untap
              </div>
            </pb-c-card>
            <pb-c-card>
              <div class="pb-front">
                Hover + ? for help
              </div>
              <div class="pb-back"></div>
            </pb-c-card>
          </td>
          <td>
            These are cards, or anything with two faces. You need to provide two children, one with
            <code>pb-front</code> for the front side of the card, and <code>pb-back</code> for the
            back side of the card. Cards default to showing the back face.
          </td>
          <td>
            <ul>
              <li>Cards</li>
              <li>Coins</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>Tokens</td>
          <td>
            <pb-c-token>
              <div class="green circle"></div>
            </pb-c-token>
            <pb-c-token>
              <div class="red rectangle"></div>
            </pb-c-token>
            <pb-c-token>
              <div class="blue triangle"></div>
            </pb-c-token>
          </td>
          <td>
            These are simple draggable objects with only one state. You can drag them to places and
            drop them. That's all. You can customize their look by adding child elements.
          </td>
          <td>
            <ul>
              <li>Chess pieces</li>
              <li>Cubes</li>
              <li>Meeples</li>
              <li>Gems</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>Dice</td>
          <td>
            <pb-c-dice type="d2"></pb-c-dice>
            <pb-c-dice type="d4"></pb-c-dice>
            <pb-c-dice type="d6"></pb-c-dice>
            <pb-c-dice type="d8"></pb-c-dice>
            <pb-c-dice type="d10"></pb-c-dice>
            <pb-c-dice type="d12"></pb-c-dice>
            <pb-c-dice type="d20"></pb-c-dice>
            <pb-c-dice>
              <div>&nbsp;</div>
              <div>1</div>
              <div>2</div>
              <div>&nbsp;</div>
              <div>1!</div>
              <div>2!</div>
            </pb-c-dice>
            <pb-c-dice flip="true">
              <div pb-dice-pair>
                <div>Cust 1</div>
                <div>Opps 1</div>
              </div>
              <div pb-dice-pair>
                <div>Cust 2</div>
                <div>Opps 2</div>
              </div>
            </pb-c-dice>
          </td>
        </tr>
      </tbody>

      <thead>
        <tr>
          <td colspan="4">
            <h2>Regions</h2>
            Regions are areas where you can drop components into. They often hold a collection of
            components.
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Bag</td>
          <td>
            <pb-r-bag></pb-r-bag>
            <pb-r-bag>
              <div pb-placeholder-content class="custom">Custom</div>
            </pb-r-bag>
          </td>
          <td>
            A bag is a collection of components. You cannot see the component until you drag one out
            of it.
          </td>
        </tr>

        <tr>
          <td>Deck</td>
          <td>
            <pb-r-deck></pb-r-deck>
          </td>
          <td>
            A deck is a region where all the components are stacked. The framework doesn't restrict
            the type of components that go in a deck. Only the top component can be interacted with
            at a time.
          </td>
          <td>
            <ul>
              <li>Deck of cards</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>Hand</td>
          <td>
            <pb-r-hand class="hand"></pb-r-hand>
          </td>
          <td>
            A region where you can drop off components and reorder them. You have access to all the
            components in hand always.
          </td>
          <td>
            <ul>
              <li>Hand</li>
              <li>Discard pile</li>
            </ul>
          </td>
        </tr>

        <tr>
          <td>Generic rectangular region</td>
          <td>
            <pb-r-rect class="reg1"></pb-r-rect>
          </td>
          <td>
            A rectangle where you can place elements in arbitrary position on it.
          </td>
          <td>
            <ul>
              <li>Table</li>
              <li>"In Play" area</li>
            </ul>
          </td>
        </tr>
      </tbody>

      <thead>
        <tr>
          <td colspan="4">
            <h2>Surfaces</h2>
            Convenient elements to layout elements
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td>Rectangle Grid</td>
          <td>
            <pb-s-rectgrid pb-row="2" pb-col="2">
              <pb-r-deck pb-col="0" pb-row="0"></pb-r-deck>
              <pb-r-deck pb-col="1" pb-row="0"></pb-r-deck>
              <pb-r-deck pb-col="0" pb-row="1"></pb-r-deck>
              <pb-r-deck pb-col="1" pb-row="1"></pb-r-deck>
            </pb-s-rectgrid>
          </td>
          <td>
            Layout components in a rectangular grid
          </td>
          <td>
            <ul>
              <li>Chess board</li>
              <li>Grid board</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Hex Grid</td>
          <td>
            <pb-s-hexgrid pb-row="5" pb-col="3">
              <div pb-col="0" pb-row="0">
                <pb-u-shape shape="hexagon"></pb-u-shape>
                <pb-r-bag></pb-r-bag>
              </div>
              <div pb-col="1" pb-row="0">
                <pb-u-shape shape="hexagon"></pb-u-shape>
                <pb-r-bag></pb-r-bag>
              </div>
              <pb-u-shape pb-col="2" pb-row="0" shape="hexagon"></pb-u-shape>

              <div pb-col="0" pb-row="1">
                <pb-u-shape shape="hexagon"></pb-u-shape>
                <pb-r-bag></pb-r-bag>
              </div>
              <div pb-col="1" pb-row="1">
                <pb-u-shape shape="hexagon"></pb-u-shape>
                <pb-r-bag></pb-r-bag>
              </div>
              <pb-u-shape pb-col="2" pb-row="1" shape="hexagon"></pb-u-shape>

              <pb-u-shape pb-col="0" pb-row="2" shape="hexagon"></pb-u-shape>
              <pb-u-shape pb-col="1" pb-row="2" shape="hexagon"></pb-u-shape>
              <pb-u-shape pb-col="2" pb-row="2" shape="hexagon"></pb-u-shape>

              <pb-u-shape pb-col="0" pb-row="3" shape="hexagon"></pb-u-shape>
              <pb-u-shape pb-col="1" pb-row="3" shape="hexagon"></pb-u-shape>
              <pb-u-shape pb-col="2" pb-row="3" shape="hexagon"></pb-u-shape>

              <pb-u-shape pb-col="0" pb-row="4" shape="hexagon"></pb-u-shape>
              <pb-u-shape pb-col="1" pb-row="4" shape="hexagon"></pb-u-shape>
              <div pb-col="2" pb-row="4">
                <pb-u-shape shape="hexagon"></pb-u-shape>
                <pb-r-bag></pb-r-bag>
              </div>
            </pb-s-hexgrid>
          </td>
          <td>
            Layout components in a hexagonal grid
          </td>
          <td>
            <ul>
              <li>Hex board</li>
              <li>Catan board</li>
            </ul>
          </td>
        </tr>
        <tr>
          <td>Triangle Grid</td>
          <td>
            <pb-s-trianglegrid pb-row="3" pb-col="5">
              <pb-u-generate>
                <template>
                  {{#pb-for 0 3}}
                    {{#pb-for 0 5}}
                      <pb-u-shape pb-col="{{@index}}" pb-row="{{@../index}}" shape="triangle">
                      </pb-u-shape>
                    {{/pb-for}}
                  {{/pb-for}}
                </template>
              </pb-u-generate>
            </pb-s-trianglegrid>
          </td>
          <td>
            Layout components in a triangle grid
          </td>
          <td>
          </td>
        </tr>
      </tbody>

      <thead>
        <tr>
          <td colspan="4">
            <h2>UI Components</h2>
            Various UI components to make your life easier
          </td>
        </tr>
      </thead>
      <tbody>
        <tr>
          <td id="previewer">Previewer</td>
          <td><pb-u-previewer></pb-u-previewer></td>
          <td>
            This displays the content of a <code>pb-u-preview</code> element when a mouse hovers
            over its parent element. This is useful to display more details of a component, while
            preserving screen real estate. See the Card for an example.
          </td>
        </tr>
        <tr>
          <td>Shapes</td>
          <td>
            <pb-u-shape shape="circle"></pb-u-shape>
            <pb-u-shape class="gold" shape="square"></pb-u-shape>
            <pb-u-shape shape="hexagon"></pb-u-shape>
            <pb-u-shape class="gold" shape="triangle"></pb-u-shape>
          </td>
          <td>
            Use <code>pb-u-shape</code> to create predefined shapes. You can also customize them
            using CSS.
          </td>
        </tr>
        <tr>
          <td>Template</td>
          <td>
            <template id="card">
              <li style="color: {{color}};">
                {{name}}
              </li>
            </template>
            <pb-u-generate input="cards game">
              <template>
                <div style="text-align: left;">
                  Characters of {{game.name}}:
                  <ul>
                  {{#each cards}}
                    {{> card}}
                  {{/each}}
                  </ul>
                </div>
              </template>
            </pb-u-generate>
          </td>
          <td>
            You can use Handlebar templates to generate elements easily.
          </td>
        </tr>
      </tbody>
    </table>

    <script>
      DI.run(['pb.=', 'pb.service.=', function(Bootstrap, Template) {
        Template
            .addPartial('card', document.querySelector('template#card'))
            .addData('cards', [
              { name: 'Mrs Peacock', color: 'blue' },
              { name: 'Miss Scarlet', color: 'red' },
              { name: 'Prof Plum', color: 'purple' },
              { name: 'Rev Green', color: 'green' },
              { name: 'Colonel Mustard', color: 'gold' },
              { name: 'Mrs. White', color: 'grey' }
            ])
            .addData('game', {
              name: 'Clue',
              year: 1949
            });
        Bootstrap.run(document);
      }]);

      var headers = document.querySelectorAll('thead');
      for (var i = 0; i < headers.length; i++) {
        headers.item(i).addEventListener('click', function() {
          this.classList.toggle('collapse');
        });
      }

      var rowHeaders = document.querySelectorAll('td:first-child');
      for (var i = 0; i < rowHeaders.length; i++) {
        rowHeaders.item(i).addEventListener('click', function() {
          this.classList.toggle('collapse');
        });
      }
    </script>
  </body>
</html>