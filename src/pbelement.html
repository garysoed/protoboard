<base href=".">

<link rel="import" href="di.html">
<link rel="import" href="trigger/triggers.html">
<link rel="import" href="utils.html">

<script>
DI
    .prefix('pb')
    .bind('PbElement', ['ability', '', (Abilities, Utils) => {

  // Private symbols.
  const __isCreated__ = Symbol();

  /**
   * Base class of all ProtoBoard elements.
   *
   * @class PbElement
   * @extends HTMLElement
   */
  class PbElement extends HTMLElement {

    /**
     * Called when the element is created
     *
     * @method createdCallback
     */
    createdCallback() {
      Abilities.init(this);
      this[__isCreated__] = false;
    }

    /**
     * Called when the element is attached to the document.
     *
     * @method attachedCallback
     */
    attachedCallback() {
      this[__isCreated__] = true;
    }

    /**
     * Called when the element is detached from the document.
     *
     * @method detachedCallback
     */
    detachedCallback() { }

    /**
     * True iff the element has been created.
     *
     * @type boolean
     * @property isCreated
     * @final
     */
    get isCreated() {
      return this[__isCreated__];
    }
  }

  return PbElement;
}]);
</script>
