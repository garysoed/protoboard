<base href="..">

<link rel="import" href="out/di.html">
<link rel="import" href="out/service/registry.html">
<link rel="import" href="out/utils.html">

<script>
window.Scope = DI.with('$registry', Registry => new Registry());
window.Scope
    .run((
      $registry,
      opt_Bag,
      opt_Card,
      opt_Deck,
      opt_Hand,
      opt_ui_Preview,
      opt_ui_Previewer,
      opt_Rect,
      opt_ui_Template,
      opt_Token,
      Utils) => {

  document.addEventListener('DOMContentLoaded', () => {
    $registry.register(document);

    let tags = Utils.
        toArray(document.querySelectorAll(':unresolved')).
        map(el => el.tagName.toLowerCase());
    let tagSet = new Set(tags);
    for (let tag of tagSet) {
      console.warn(`Element ${tag} is unresolved`);
    }
  });
});
</script>
