<base href="../..">

<link rel="import" href="out/di.html">
<link rel="import" href="out/trigger/click.html">

<script>
DI.bind('pb_trigger_Triggers', Click => {

  // Private symbols
  const __observer__ = Symbol();
  const __target__ = Symbol();
  const __triggers__ = Symbol();

  const __onMutation__ = Symbol();

  class Registrar {
    constructor(target) {
      this[__target__] = target;
    }

    add(trigger) {
      if (!this[__target__][__triggers__]) {
        this[__target__][__triggers__] = new Map();
      }
      this[__target__][__triggers__].set(trigger.attrName, trigger);
      return this;
    }
  }

  let Triggers = {
    parse(str) {
      let trigger = Click.parse(str);

      if (!trigger) {
        throw `Unparsable trigger string: ${str}`;
      }
      return trigger;
    }
  };

  return Triggers;
});
</script>