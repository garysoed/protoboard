<!DOCTYPE html>
<html>
<head>
  <base href="..">
  <title>Rect Unit Tests</title>
  <link rel="import" href="testbase.html">

  <link rel="import" href="third_party/di.html">
  <link rel="import" href="region/rect.html">
  <link rel="import" href="service/move.html">
  <link rel="import" href="service/registry.html">
  <link rel="import" href="utils.html">
  <link rel="import" href="testutils.html">
</head>
<body>
  <pb-r-rect></pb-r-rect>

  <script>
  DIJS
      .prefix('pb')
      .with('$registry', require => new (require('service.Registry'))())
      .constant('doc', document.currentScript.ownerDocument)
      .run(require => {

  const _ = require('/_');

  const doc = require('doc');
  const expect = require('/expect');
  const Move = require('service.Move');
  const Rect = require('region.Rect');
  const t = require('t');
  const Utils = require('Utils');

  describe('Rect', () => {
    describe('get pickableChildCount', () => {
      it('should return the correct number of children', () => {
        let rect = doc.createElement('pb-r-rect');
        Object.setPrototypeOf(rect, Rect.prototype);

        rect.appendChild(doc.createElement('div'));
        rect.appendChild(doc.createElement('div'));
        rect.appendChild(doc.createElement('div'));

        expect(rect.pickableChildCount).to.equal(3);
      });
    });

    afterEach(done => {
      _.reset();
      done();
    });
  });
  });
  </script>
</body>
