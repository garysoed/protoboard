<html><head><base href="..">

<link rel="import" href="ability/droppable.html">
<link rel="import" href="service/move.html">
<link rel="import" href="third_party/di.html">
<link rel="import" href="trigger/key.html">
<link rel="import" href="utils.html">

<script type="text/javascript">"use strict";var _createClass=function(){function e(e,t){for(var r in t){var n=t[r];n.configurable=!0,n.value&&(n.writable=!0)}Object.defineProperties(e,t)}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),_get=function e(t,r,n){var o=Object.getOwnPropertyDescriptor(t,r);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,r,n)}if("value"in o&&o.writable)return o.value;var a=o.get;return void 0===a?void 0:a.call(n)},_inherits=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(e.__proto__=t)},_classCallCheck=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")};DI.prefix("pb").bind("ability.OrderedDroppable",{Droppable:"ability.=",Key:"trigger.=",Move:"service.=",Utils:"="},function(e){var t=Symbol(),r=function(r){function n(){var r=void 0===arguments[0]?"droppable":arguments[0],o=void 0===arguments[1]?new e.Key("d"):arguments[1],i=void 0===arguments[2]?!0:arguments[2],a=void 0===arguments[3]?!1:arguments[3];_classCallCheck(this,n),_get(Object.getPrototypeOf(n.prototype),"constructor",this).call(this,r,o,i),this[t]=a}return _inherits(n,r),_createClass(n,{doTrigger:{value:function(r){var n=e.Move.movedElements.values().next().value;if(n){var o=!1,i=!0,a=!1,l=void 0;try{for(var u,s=e.Utils.toArray(r.children)[Symbol.iterator]();!(i=(u=s.next()).done);i=!0){var c=u.value,f=c.getBoundingClientRect();this[t]?!o&&f.top+f.height/2>e.Move.mouseY&&(o=!0,r.insertBefore(n,c)):!o&&f.left+f.width/2>e.Move.mouseX&&(o=!0,r.insertBefore(n,c))}}catch(v){a=!0,l=v}finally{try{!i&&s["return"]&&s["return"]()}finally{if(a)throw l}}o||r.appendChild(n)}}}}),n}(e.Droppable);return r});</script>
</head><body></body></html>