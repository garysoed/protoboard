<html><head><base href="..">

<link rel="import" href="polyfill.html">
<link rel="import" href="third_party/di.html">
<link rel="import" href="utils.html">

<script>"use strict";var _defineProperty=function(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0})},_createClass=function(){function t(t,e){for(var r in e){var i=e[r];i.configurable=!0,i.value&&(i.writable=!0)}Object.defineProperties(t,e)}return function(e,r,i){return r&&t(e.prototype,r),i&&t(e,i),e}}(),_classCallCheck=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")};DI.prefix("pb").bind("ability.Abilities",{Utils:"="},function(t){var e=Symbol("abilities"),r=Symbol(),i=Symbol("observer"),n=Symbol("onMutation"),a=function(){function t(e){_classCallCheck(this,t),this[r]=e}return _createClass(t,{add:{value:function(t){t.attrName;if(this[r][e]||(this[r][e]=new Map),this[r][e].has(t.attrName))throw"Ability with key "+t.attrName+" is already registered";if(this[r][e].set(t.attrName,t),this[r][e].has(t.attrTrigger))throw"Ability with key "+t.attrTrigger+" is already registered";return this[r][e].set(t.attrTrigger,t),this}},getAll:{value:function(){if(!this[r][e])return new Map;var t=new Set(this[r][e].values()),i=new Map,n=!0,a=!1,o=void 0;try{for(var l,u=t[Symbol.iterator]();!(n=(l=u.next()).done);n=!0){var s=l.value;i.set(s.attrName,s)}}catch(f){a=!0,o=f}finally{try{!n&&u["return"]&&u["return"]()}finally{if(a)throw o}}return i}},reset:{value:function(){this[r][e].clear()}},trigger:{value:function(t){o.trigger(this[r],t)}}}),t}(),o=function(){var r={};return _defineProperty(r,n,function(t){var r=!0,i=!1,n=void 0;try{for(var a,o=t[Symbol.iterator]();!(r=(a=o.next()).done);r=!0){var l=a.value,u=l.target,s=l.attributeName;u[e]&&u[e].has(s)&&u[e].get(s).updateConfig(u)}}catch(f){i=!0,n=f}finally{try{!r&&o["return"]&&o["return"]()}finally{if(i)throw n}}}),_defineProperty(r,"of",function(t){return new a(t)}),_defineProperty(r,"init",function(r){if(r[i])throw"Element "+r+" is already initialized";if(r[i]=new MutationObserver(this[n]),r[e]){var a={attributes:!0};t.Utils.extendFn(r,"attachedCallback",function(){return r[i].observe(r,a)}),t.Utils.extendFn(r,"detachedCallback",function(){return r[i].disconnect()});var o=new Set(r[e].values());o.forEach(function(t){t.init(r)})}}),_defineProperty(r,"trigger",function(t,r){var i=null;if(t[e]&&(i=t[e].get(r)),!i)throw new Error("Ability "+r+" is not registered with element "+t);i.trigger(t)}),r}();return window.TEST_MODE&&(o.Builder=a),o});</script>
</head><body></body></html>